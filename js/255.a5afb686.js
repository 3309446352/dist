"use strict";(self["webpackChunkrx"]=self["webpackChunkrx"]||[]).push([[255],{7883:function(t,e,i){i.d(e,{Z:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-box"},[e("div",{staticClass:"bg"}),e("div",{staticClass:"bg-content"}),t._t("default")],2)},a=[],o={name:"BgBox"},n=o,l=i(1001),r=(0,l.Z)(n,s,a,!1,null,"eec436ba",null),c=r.exports},4255:function(t,e,i){i.r(e),i.d(e,{default:function(){return d}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"Like"},[e("van-nav-bar",{attrs:{title:"收藏","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),e("BgBox",[t.like.length>0?e("div",{staticClass:"findLike"},t._l(t.like,(function(i,s){return e("div",{key:s,staticClass:"pro-item fl"},[e("div",[e("div",{staticClass:"img-box",on:{click:function(e){return t.goDetall(i.pid)}}},[e("img",{staticClass:"auto_img",attrs:{src:i.smallImg,alt:""}}),e("div",{staticClass:"hot"},[t._v("hot")])]),e("div",{staticClass:"pro-info"},[e("div",{staticClass:"pro-name one_text"},[t._v(t._s(i.name))]),e("div",{staticClass:"pro-enname one_text"},[t._v(t._s(i.enname))]),e("div",t._b({staticClass:"pro-price"},"div",t.pid,!1),[t._v("￥"+t._s(i.price)+" "),e("div",[e("van-icon",{staticClass:"icon",attrs:{name:"delete-o",color:"#1989fa",size:"20px"},on:{click:function(e){return t.deleteLike(i.pid)}}})],1)])])])])})),0):e("div",[e("van-empty",{attrs:{description:"你没有藏品"}})],1)])],1)},a=[],o=i(7883),n={components:{BgBox:o.Z},setup(){const t=()=>history.back();return{onClickLeft:t}},data(){return{like:{},pid:""}},created(){this.goLike()},methods:{goLike(){let t=localStorage.getItem("token");if(!t)return this.$toast("请先登录"),this.$router.push({name:"Login"});this.$toast.loading({message:"加载中……",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/findAllLike",params:{appkey:this.appkey,tokenString:t}}).then((t=>{this.$toast.clear(),console.log(t),this.like=t.data.result})).then((t=>{this.$toast.clear()}))},goDetall(t){this.$router.push({name:"Detall",params:{pid:t}})},deleteLike(t){let e=localStorage.getItem("token");if(!e)return this.$toast("请先登录"),void this.$router.push({name:"Login"});this.$toast.loading({message:"加载中。。。",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/notlike",data:{appkey:this.appkey,pid:t,tokenString:e}}).then((t=>{this.$toast.clear(),this.$router.go(0),console(t),700==t.data.code?this.$router.push({name:"Login"}):"50000"==t.data.code&&(this.userInfo=t.data.result[0])})).catch((t=>{this.$toast.clear()}))}}},l=n,r=i(1001),c=(0,r.Z)(l,s,a,!1,null,"3f5d335a",null),d=c.exports}}]);
//# sourceMappingURL=255.a5afb686.js.map