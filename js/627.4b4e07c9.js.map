{"version":3,"file":"js/627.4b4e07c9.js","mappings":"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","sources":["webpack://rx/./src/views/Forget.vue","webpack://rx/src/views/Forget.vue","webpack://rx/./src/views/Forget.vue?d9ec","webpack://rx/./src/views/Forget.vue?dd3e","webpack://rx/./src/assets/validForm.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"toForget\"},[_c('div',{staticClass:\"User\"},[_vm._m(0),_c('div',{staticClass:\"Username\"},[_vm._v(\"Luckin Coffee\")]),_c('div',{staticClass:\"Home\",on:{\"click\":_vm.goDetall}},[_vm._v(\"首页\")]),_vm._m(1)]),_c('div',[_c('van-field',{attrs:{\"name\":\"手机号\",\"label\":\"手机号\",\"placeholder\":\"手机号\",\"rules\":[{ required: true, message: '请填写手机号' }]},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"name\":\"新密码\",\"label\":\"新密码\",\"placeholder\":\"新密码\",\"rules\":[{ required: true, message: '请填写新密码' }]},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('van-field',{attrs:{\"type\":\"email\",\"name\":\"邮箱\",\"label\":\"邮箱\",\"placeholder\":\"邮箱\",\"rules\":[{ required: true, message: '请填写邮箱' }]},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('van-field',{attrs:{\"center\":\"\",\"clearable\":\"\",\"label\":\"邮箱验证码\",\"placeholder\":\"请输入验证码\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"color\":\"rgb(32, 77, 238)\"},on:{\"click\":function($event){return _vm.getValidCode()}}},[_vm._v(_vm._s(_vm.text)+\" \")])]},proxy:true}])}),_c('br'),_c('div',{staticStyle:{\"font-size\":\"12px\",\"float\":\"right\"},on:{\"click\":_vm.toForget}},[_vm._v(\"已有账号?立即登录\")]),_c('br'),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\",\"color\":\"rgb(32, 77, 238)\"}},[_vm._v(\"提交\")])],1)],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('img',{attrs:{\"src\":require(\"../assets/images/home_active.png\"),\"alt\":\"\"}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"welcome\"},[_vm._v(\"忘记密码!\")]),_c('br'),_c('br'),_c('div',{staticClass:\"text\"},[_vm._v(\"forget password\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"toForget\">\r\n        <div class=\"User\">\r\n            <div><img src=\"../assets/images/home_active.png\" alt=\"\" /></div>\r\n            <div class=\"Username\">Luckin Coffee</div>\r\n            <div class=\"Home\" @click=\"goDetall\">首页</div>\r\n            <!--  -->\r\n            <div>\r\n                <div class=\"welcome\">忘记密码!</div>\r\n                <br /><br />\r\n                <div class=\"text\">forget password</div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- 输入框 -->\r\n        <div>\r\n            <van-field v-model=\"phone\" name=\"手机号\" label=\"手机号\" placeholder=\"手机号\" :rules=\"[{ required: true, message: '请填写手机号' }]\" />\r\n            <van-field v-model=\"password\" type=\"password\" name=\"新密码\" label=\"新密码\" placeholder=\"新密码\" :rules=\"[{ required: true, message: '请填写新密码' }]\" />\r\n            <van-field v-model=\"email\" type=\"email\" name=\"邮箱\" label=\"邮箱\" placeholder=\"邮箱\" :rules=\"[{ required: true, message: '请填写邮箱' }]\" />\r\n            <van-field center clearable label=\"邮箱验证码\" placeholder=\"请输入验证码\">\r\n            <template #button>\r\n                <van-button size=\"small\" type=\"primary\" color=\"rgb(32, 77, 238)\" @click=\"getValidCode()\">{{text}}\r\n                </van-button>\r\n            </template>\r\n            </van-field>\r\n            <br>\r\n            <div style=\"font-size: 12px;float:right;\" @click=\"toForget\">已有账号?立即登录</div>\r\n            <br>\r\n            <div style=\"margin: 16px\">\r\n                <van-button round block type=\"info\" native-type=\"submit\" color=\"rgb(32, 77, 238)\">提交</van-button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport{validForm} from \"@/assets/validForm\"\r\nexport default {\r\n    name: \"goDetall\",\r\n    data() {\r\n        return {\r\n            password: '',\r\n            phone: '',\r\n            email: '',\r\n            code:'',\r\n            isSend:false,\r\n            text:\"发送验证码\"\r\n        }\r\n    },\r\n    methods: {\r\n        goDetall() {\r\n            this.$router.go(-1)\r\n        },\r\n        toForget() {\r\n            this.$router.push({\r\n                name: \"Login\",\r\n            });\r\n        },\r\n        next(){\r\n            let o ={\r\n                email :{\r\n                    value:this.email,\r\n                    errormsg:\"邮箱格式不正确\",\r\n                    reg: /^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/,\r\n                },\r\n                code:{\r\n                    value:this.email,\r\n                    erroeMsg:\"验证码不正确\",\r\n                    reg:/^[A-Za-z\\d]{6}$/,\r\n                }\r\n            };\r\n            let isPass =validForm.valid(o);\r\n            if(isPass){\r\n                this.$toast.loading({\r\n                message: \"加载中...\",\r\n                forbidClick: true,\r\n                duration: 0,\r\n            });\r\n            this.axios({\r\n                method: \"POST\",\r\n                url: \"/checkValidCode\",\r\n                data: {\r\n                    appkey: this.appkey,\r\n                    email:this.email,\r\n                },\r\n            })\r\n            .then((result) =>{\r\n                this.$toast.clear();\r\n                this.$toast(result.data.msg);\r\n                if(result.data.msg);\r\n\r\n                if(result.data.code=\"k001\"){\r\n                    this.isNext = true;\r\n                }\r\n            })\r\n            .catch((err) =>{\r\n                this.$toast.clear();\r\n            })\r\n            }\r\n        },\r\n        //发送邮箱验证码\r\n        getValidCode() {\r\n            let o ={\r\n                email :{\r\n                    value:this.email,\r\n                    errormsg:\"邮箱格式不正确\",\r\n                    reg: /^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/,\r\n                },\r\n            };\r\n            let isPass =validForm.valid(o);\r\n\r\n            if(!isPass){\r\n                return this.$toast(\"当我瞎呀，没有邮箱\");;\r\n            }\r\n\r\n            let time = 60;\r\n\r\n            this.isSend =true;\r\n\r\n            this.text = `${time}秒后重新发送`;\r\n\r\n            let timer =setInterval(() => {\r\n                if(time <= 0){\r\n                    clearInterval(timer);\r\n                    timer =null;\r\n                    time = 60;\r\n                    this.isSend = false;\r\n                }else{\r\n                    time--;\r\n                    this.text= `${time}秒后重新发送`;\r\n                };\r\n            },1000);\r\n            this.$toast.loading({\r\n                message: \"加载中...\",\r\n                forbidClick: true,\r\n                duration: 0,\r\n            });\r\n            this.axios({\r\n                method: \"POST\",\r\n                url: \"/emailValidCode\",\r\n                data: {\r\n                    appkey: this.appkey,\r\n                    email:this.email,\r\n                },\r\n            })\r\n            .then((result) =>{\r\n                this.$toast.clear();\r\n                this.$toast(result.data.msg);\r\n                console.log(result);   \r\n            })\r\n            .catch((err) =>{\r\n                this.$toast.clear();\r\n            })\r\n            \r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.Username {\r\n    width: 50%;\r\n    position: relative;\r\n\r\n    top: -40px;\r\n    left: 70px;\r\n    font-size: 15px;\r\n    font-weight: bold;\r\n}\r\n\r\n.Home {\r\n    position: relative;\r\n    top: -60px;\r\n    left: 85%;\r\n    width: 40px;\r\n    height: 20px;\r\n    font-size: 15px;\r\n    color: rgb(36, 36, 235);\r\n    //   font-weight: bold;\r\n}\r\n\r\n.welcome {\r\n    font-size: 25px;\r\n}\r\n\r\n.text {\r\n    font-size: 20px;\r\n    color: rgb(168, 173, 178);\r\n}\r\n\r\n.Signup {\r\n    width: 90%;\r\n    height: 40px;\r\n    border-radius: 15px;\r\n    background-color: white;\r\n    color: rgb(54, 52, 52);\r\n    font-size: 15px;\r\n    text-align: center;\r\n    margin: 0 auto;\r\n    background-color: white;\r\n\r\n    line-height: 40px;\r\n\r\n    p {\r\n        float: left;\r\n        font-size: 25px;\r\n    }\r\n\r\n    .SignupT {\r\n        width: 12%;\r\n        height: 40px;\r\n        background-color: rgb(32, 77, 238);\r\n        border-radius: 19px;\r\n        width: 90%;\r\n        color: white;\r\n        margin: 0 auto;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Forget.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Forget.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Forget.vue?vue&type=template&id=2afabf4f&scoped=true&\"\nimport script from \"./Forget.vue?vue&type=script&lang=js&\"\nexport * from \"./Forget.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Forget.vue?vue&type=style&index=0&id=2afabf4f&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2afabf4f\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\n\r\n//导入提示组件\r\nimport { Toast } from 'vant'\r\n\r\n//注册提示组件\r\nVue.use(Toast)\r\n\r\n//表单验证模块\r\nclass ValidForm {\r\n\r\n  constructor() {}\r\n\r\n  //验证表单方法\r\n  valid(o) {\r\n    //o: 表单验证数据， object\r\n    // \r\n    // \r\n\r\n    for (let key in o) {\r\n      if (!o[key].reg.test(o[key].value)) {\r\n        \r\n\r\n        //提示错误信息\r\n        Toast(o[key].errorMsg);\r\n        //表单验证不通过\r\n        return false;\r\n      }\r\n    }\r\n\r\n    //表单验证通过\r\n    return true;\r\n  }\r\n\r\n}\r\n\r\n//导出表单验证模块实例\r\nexport const validForm = new ValidForm();"],"names":["render","_vm","this","_c","_self","staticClass","_m","_v","on","goDetall","attrs","required","message","model","value","phone","callback","$$v","expression","password","email","scopedSlots","_u","key","fn","$event","getValidCode","_s","text","proxy","staticStyle","toForget","staticRenderFns","require","name","data","code","isSend","methods","next","errormsg","reg","erroeMsg","forbidClick","duration","method","url","appkey","then","result","catch","err","clearInterval","timer","time","console","component","Vue","ValidForm","constructor","valid","o","test","errorMsg","validForm"],"sourceRoot":""}