"use strict";(self["webpackChunkrx"]=self["webpackChunkrx"]||[]).push([[746],{8746:function(t,a,s){s.r(a),s.d(a,{default:function(){return l}});var e=function(){var t=this,a=t._self._c;return a("div",{staticClass:"home"},[a("van-nav-bar",{attrs:{"left-arrow":""},scopedSlots:t._u([{key:"left",fn:function(){return[a("div",{staticClass:"home-nav"},[a("div",{staticClass:"t1"},[t._v(t._s(t.Greetings))]),a("div",{staticClass:"t2",on:{click:t.goMy}},[t._v(t._s(t.accountInfo))])])]},proxy:!0},{key:"right",fn:function(){return[a("div",{staticClass:"home-search",on:{click:t.goSearch}},[a("van-search",{attrs:{placeholder:"请输入搜索关键词"}})],1)]},proxy:!0}])}),a("div",{staticClass:"home-conten"},[a("div",{staticClass:"banner-box"},[a("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white"}},t._l(t.bannerData,(function(t,s){return a("van-swipe-item",{key:s},[a("img",{staticClass:"auto_img",attrs:{src:t.bannerImg,alt:""}})])})),1)],1)]),a("div",{staticClass:"product-box"},[a("div",[t._m(0),a("div",{staticClass:"product clearfix"},t._l(t.hotProduct,(function(s,e){return a("div",{key:e,staticClass:"pro-item fl",on:{click:function(a){return t.goDetall(s.pid)}}},[a("div",{staticClass:"img-box"},[a("img",{staticClass:"auto_img",attrs:{src:s.smallImg,alt:""}}),a("div",{staticClass:"hot"},[t._v("hot")])]),a("div",{staticClass:"pro-info"},[a("div",{staticClass:"pro-name one_text"},[t._v(t._s(s.name))]),a("div",{staticClass:"pro-enname one_text"},[t._v(t._s(s.enname))]),a("div",{staticClass:"pro-price"},[t._v("￥"+t._s(s.price))])])])})),0)])])],1)},i=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"pro-title-box"},[a("span",{staticClass:"pro-title"},[t._v("热卖推荐")])])}],o={name:"Home",data(){return{Greetings:"",bannerData:[],hotProduct:[],accountInfo:""}},created(){this.getDate(),this.getBannerData(),this.getHotProduct(),this.getAccountInfo()},methods:{created(){this.getDate()},getDate(){let t=(new Date).getHours();console.log(t),t<6?this.Greetings="嘿，凌晨好！":t<12?this.Greetings="嘿，早上好！":t<14?this.Greetings="嘿，中午好！":t<18?this.Greetings="嘿，下午好！":t<24&&(this.Greetings="嘿，晚上好！")},getBannerData(){this.$toast.loading({message:"加载...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/banner",params:{appkey:this.appkey}}).then((t=>{this.$toast.clear(),console.log("轮播图的数据",t.data.result),300==t.data.code&&(this.bannerData=t.data.result)}))},getHotProduct(){this.$toast.loading({message:"加载...",forbidClick:!0,duration:0}),this.axios({method:"Get",url:"typeProducts",params:{appkey:this.appkey,key:"isHot",value:1}}).then((t=>{this.$toast.clear(),console.log("热卖推荐的商品",t.data.result),500==t.data.code&&(this.hotProduct=t.data.result)}))},goDetall(t){this.$router.push({name:"Detall",params:{pid:t}})},goSearch(){this.$router.push({name:"Search"})},getAccountInfo(){let t=localStorage.getItem("token");if(!t)return this.$toast("请先登录"),this.$router.push({name:"Login"});this.$toast.loading({message:"加载中……",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/findAccountInfo",params:{appkey:this.appkey,tokenString:t}}).then((t=>{this.$toast.clear(),console.log("查询用户数据",t.data.result[0].nickName),this.accountInfo=t.data.result[0].nickName})).catch((t=>{this.$toast.clear()}))},goMy(){this.$router.push({name:"My"})}}},r=o,n=s(1001),c=(0,n.Z)(r,e,i,!1,null,"b74ba310",null),l=c.exports}}]);
//# sourceMappingURL=746.d64df301.js.map